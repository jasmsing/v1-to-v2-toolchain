{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "title": "Github Enterprise link",
    "description": "Github Enterprise link schema",
    "longDescription": "[Whitewater GitHub Enterprise](https://whitewater.ibm.com/tools/github) is provided to internal IBM teams in order to promote and enable social coding at IBM.\n\n**Note:** You must [register](https://github.ibm.com/) at Whitewater GitHub Enterprise before you add this integration. All users with [access to this toolchain](https://console.ng.bluemix.net/docs/services/ContinuousDelivery/toolchains_using.html#managing_access) will be able to access artifacts derived from this repository, such as build artifacts in the Delivery Pipeline.",
    "type": "object",
    "properties": {
      "repo_url": {
          "type": "string",        
          "title": "Source repository URL"
      },
      "existing_repo_url": {
          "type": "string",        
          "title": "Source repository URL"        
      },
      "type": {
        "type": "string",
	"title": "Repository type",
        "default": "Existing"
      },
      "has_issues": {
		"title": "Enable GitHub Enterprise Issues",
		"description": "Enable GitHub Enterprise Issues page for lightweight issue tracking.",
		"type": "boolean",
		"default": true
	  },
      "enable_traceability": {
	      "type": "boolean",
	      "title": "Track deployment of code changes",
	      "description": "Select this check box to track the deployment of code changes by creating tags, labels and comments on commits, pull requests and referenced issues. If you want to enable later, you can right-click on the Git repo card in the Toolchain page and click Configure.",
	      "default": false
       },
      "legal": {
           "title": "I understand",
           "type": "boolean",
           "default": false
      }
    },
    "required": ["legal"],	
    "form": [
      {
        "type": "validator",
        "url": "/devops/setup/bm-helper/github_helper.html"
      }, {
 	"type": "boolean",
 	"key": "legal"
      }, {
        "type": "string",
        "key": "type",
        "readonly": "true"
       }, {
      "description": "The repository that your toolchain will link to.",
      "type": "string",
      "key": "existing_repo_url",
      "readonly": "true"
      }, {
      	"type": "boolean",       
	"key": "enable_traceability"       
      }
    ],
    "actions": {        
        "update": ["repo_url","has_issues","legal"]
    }
}
